---
import GitHub from "./icons/GitHub.astro"
import Tailwind from "./icons/Tailwind.astro"
import Link from "./icons/Link.astro"
import LinkButton from "./LinkButton.astro"

type Tag = {
  name: string;
  class: string;
  icon?: any;
}

const TAGS: Record<string, Tag> = {
  TAILWIND: {
    name: "Tailwind CSS",
    class: "bg-[#003159] text-white",
    icon: Tailwind,
  },
  GIT: {
    name: "Git",
    class: "bg-orange-600 text-white",
  },
  PHP: {
    name: "PHP",
    class: "bg-purple-700 text-white",
  },
  MYSQL: {
    name: "MySQL",
    class: "bg-[#4479A1] text-white",
  },
  JAVASCRIPT: {
    name: "JavaScript",
    class: "bg-yellow-400 text-black",
  },
  PYTHON: {
    name: "Python",
    class: "bg-[#3776AB] text-white",
  },
}

const PROJECTS = [
  {
    title: "Universidad Anáhuac",
    description: `Desarrollé y gestioné sistemas web robustos y escalables para la Universidad Anáhuac durante 5 años. Implementé soluciones en PHP, JavaScript y MySQL para digitalizar procesos académicos y administrativos, mejorando la experiencia de estudiantes y personal. Usé Git para mantener un flujo de trabajo ordenado y colaborativo, priorizando la eficiencia, estabilidad y facilidad de mantenimiento. Me enfoqué en construir interfaces accesibles y funcionales alineadas con los objetivos institucionales.`,
    link: null,
    github: null,
    image: "/anahuac.png",
    tags: [TAGS.PHP, TAGS.JAVASCRIPT, TAGS.MYSQL, TAGS.GIT],
  },
  {
    title: "Hamster Connect",
    description: `Colaboré con equipos internacionales en el desarrollo de la plataforma base de Hamster Connect, un sistema que proporciona una red financiera y social para inversionistas, brokers y aceleradoras. Diseñé e implementé la arquitectura del backend con PHP y MySQL, asegurando escalabilidad y solidez. También trabajé en el diseño de interfaces modernas y dinámicas usando HTML, CSS y JavaScript, con un enfoque en rendimiento, experiencia de usuario y objetivos de negocio. La plataforma integra oportunidades de inversión, noticias y colaboración en tiempo real.`,
    link: null,
    github: null,
    image: "/hamster.png", // 265x74
    tags: [TAGS.PHP, TAGS.MYSQL, TAGS.GIT],
  },
  {
    title: "Desarrollo Web Freelance",
    description: `Ayudo a pequeñas empresas y proyectos personales a construir su presencia digital desde cero. Desde la idea hasta el lanzamiento, me involucro en cada etapa: diseño, desarrollo y publicación. He creado soluciones personalizadas con HTML, CSS, JavaScript, PHP y Python, combinando rendimiento, seguridad y usabilidad. También desarrollo scripts de automatización y herramientas backend que optimizan tareas internas y flujos de trabajo. Mi objetivo es entregar productos que sean fáciles de mantener y aporten verdadero valor a los usuarios.`,
    link: null,
    github: null,
    image: null,
    tags: [TAGS.JAVASCRIPT, TAGS.PHP, TAGS.GIT, TAGS.PYTHON],
  },
]

---

<div class="flex flex-col gap-y-16">
  {
    PROJECTS.map(({ image, title, description, tags, link, github }) => (
      <article class="flex flex-col md:flex-row md:space-x-8 space-y-8 md:space-y-0 group shadow-lg text-justify rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700">
        
        {image && (
          <div class="w-full md:w-1/2 flex items-center justify-center bg-white">
            <div class="relative w-full h-56 md:h-full flex items-center justify-center">
              <img
                src={image}
                alt={title}
                class={`transition-transform duration-500 group-hover:scale-105 object-contain max-h-[120px] p-4`}
                loading="lazy"
              />
            </div>
          </div>
        )}
        
        <div class={`w-full ${image ? 'md:w-1/2' : 'md:w-full'} p-6 flex flex-col justify-between`}>
          <div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100">{title}</h3>
            <ul class="flex flex-wrap gap-2 mt-2 mb-4">
              {tags.map((tag, idx) => (
                <li>
                  <span
                    class={`inline-flex items-center gap-1 rounded-full py-1 px-3 text-xs font-semibold ${tag.class}`}
                  >
                    {tag.icon && <tag.icon class="w-4 h-4" />}
                    {tag.name}
                  </span>
                </li>
              ))}
            </ul>
            <p class="text-gray-700 dark:text-gray-300 whitespace-pre-line">{description}</p>
          </div>
          <footer class="mt-6 flex gap-4">
            {github && (
              <LinkButton href={github}>
                <GitHub class="w-5 h-5" />
                Código
              </LinkButton>
            )}
            {link && (
              <LinkButton href={link}>
                <Link class="w-5 h-5" />
                Vista
              </LinkButton>
            )}
          </footer>
        </div>
      </article>
    ))
  }
</div>
